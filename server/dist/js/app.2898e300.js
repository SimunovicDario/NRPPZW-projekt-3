(function(e){function t(t){for(var r,c,s=t[0],u=t[1],a=t[2],b=0,f=[];b<s.length;b++)c=s[b],Object.prototype.hasOwnProperty.call(i,c)&&i[c]&&f.push(i[c][0]),i[c]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(e[r]=u[r]);l&&l(t);while(f.length)f.shift()();return o.push.apply(o,a||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],r=!0,s=1;s<n.length;s++){var u=n[s];0!==i[u]&&(r=!1)}r&&(o.splice(t--,1),e=c(c.s=n[0]))}return e}var r={},i={app:0},o=[];function c(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.m=e,c.c=r,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)c.d(n,r,function(t){return e[t]}.bind(null,r));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],u=s.push.bind(s);s.push=t,s=s.slice();for(var a=0;a<s.length;a++)t(s[a]);var l=u;o.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"07e6":function(e,t,n){e.exports=n.p+"img/info.ef7967fc.svg"},"1ed2":function(e,t,n){"use strict";n("f44f")},"2a48":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);var r=n("7a23"),i=n("5502"),o=Object(i["a"])({state:{countries:null},mutations:{setCountries:function(e,t){e.countries=t}},getters:{countries:function(e){return e.countries}}}),c=n("6c02"),s=(n("e792"),function(e){return Object(r["v"])("data-v-80ee896a"),e=e(),Object(r["t"])(),e}),u={key:0,style:{padding:"20px","text-align":"center"}},a={class:"title"},l={style:{margin:"1% 2%"}},b=s((function(){return Object(r["g"])("sup",null,"2",-1)}));function f(e,t,n,i,o,c){var s,f,d,g;return Object(r["s"])(),Object(r["f"])("div",{class:"modal",onClick:t[1]||(t[1]=function(t){return e.closeModal()})},[Object(r["g"])("div",{class:"modal-content",onClick:t[0]||(t[0]=Object(r["I"])((function(){}),["stop"]))},[null!==(s=e.country)&&void 0!==s&&s.name?Object(r["e"])("",!0):(Object(r["s"])(),Object(r["f"])("div",u,' No country with abbreviation "'+Object(r["B"])(null===(f=e.country)||void 0===f?void 0:f.abbr)+'" found! ',1)),null!==(d=e.country)&&void 0!==d&&d.name?(Object(r["s"])(),Object(r["f"])(r["a"],{key:1},[Object(r["g"])("div",a,Object(r["B"])(e.countryName),1),Object(r["g"])("div",l,[Object(r["g"])("div",null,"Region: "+Object(r["B"])(e.region),1),Object(r["g"])("div",null,"Capital: "+Object(r["B"])(null===(g=e.country)||void 0===g?void 0:g.capital.join(", ")),1),Object(r["g"])("div",null,[Object(r["h"])("Area: "+Object(r["B"])(e.country.area)+" km",1),b]),Object(r["g"])("div",null," Latitude: "+Object(r["B"])(e.country.latlng[0])+", longitude: "+Object(r["B"])(e.country.latlng[1]),1)])],64)):Object(r["e"])("",!0)])])}function d(e,t,n,r,i,o,c){try{var s=e[o](c),u=s.value}catch(a){return void n(a)}s.done?t(u):Promise.resolve(u).then(r,i)}function g(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function c(e){d(o,r,i,c,s,"next",e)}function s(e){d(o,r,i,c,s,"throw",e)}c(void 0)}))}}var h=Object(r["j"])({props:["country"],computed:{countryName:function(){return"".concat(this.country.name.common," ").concat(this.country.name.common!==this.country.name.official?" ("+this.country.name.official+")":"")},region:function(){return"".concat(this.country.region," ").concat(this.country.subregion?"("+this.country.subregion+")":null)}},methods:{closeModal:function(){var e=this;return g(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$router.push("/");case 2:case"end":return t.stop()}}),t)})))()}}}),v=(n("1ed2"),n("6b0d")),j=n.n(v);const m=j()(h,[["render",f],["__scopeId","data-v-80ee896a"]]);var p=m,O=n("07e6"),y=n.n(O),w=Object(r["h"])("Loading... "),k={class:"container"},C={class:"col"},S=Object(r["g"])("div",{class:"title"},"Regions",-1),R={class:"list"},x=["onClick"],M={class:"col"},P=Object(r["g"])("div",{class:"title"},"Subregions",-1),B={class:"list"},L=["onClick"],$={class:"col"},_=Object(r["g"])("div",{class:"title"},"Countries",-1),z={class:"list"},N=["onClick"],T=Object(r["g"])("img",{class:"info",src:y.a},null,-1);function A(e,t,n,i,o,c){var s=Object(r["z"])("search"),u=Object(r["z"])("Modal");return Object(r["s"])(),Object(r["f"])("div",null,[Object(r["g"])("p",null,[e.loading?(Object(r["s"])(),Object(r["f"])(r["a"],{key:0},[w],64)):Object(r["e"])("",!0)]),e.loading?Object(r["e"])("",!0):(Object(r["s"])(),Object(r["f"])(r["a"],{key:0},[Object(r["i"])(s,{onSearchTerm:e.search,ref:"search"},null,8,["onSearchTerm"]),Object(r["g"])("div",k,[Object(r["g"])("div",C,[S,Object(r["g"])("div",R,[(Object(r["s"])(!0),Object(r["f"])(r["a"],null,Object(r["y"])(e.filteredRegions,(function(t){return Object(r["s"])(),Object(r["f"])("div",{class:Object(r["o"])(["item",{active:t===e.activeRegion}]),onClick:function(n){return e.updatedList("regions",t)},key:t},[Object(r["g"])("div",null,Object(r["B"])(t),1)],10,x)})),128))])]),Object(r["g"])("div",M,[P,Object(r["g"])("div",B,[(Object(r["s"])(!0),Object(r["f"])(r["a"],null,Object(r["y"])(e.filteredSubregions,(function(t){return Object(r["s"])(),Object(r["f"])("div",{class:Object(r["o"])(["item",{active:t===e.activeSubregion}]),onClick:function(n){return e.updatedList("subregions",t)},key:t},Object(r["B"])(t.name),11,L)})),128))])]),Object(r["g"])("div",$,[_,Object(r["g"])("div",z,[(Object(r["s"])(!0),Object(r["f"])(r["a"],null,Object(r["y"])(e.filteredCountries,(function(t){return Object(r["s"])(),Object(r["f"])("div",{class:Object(r["o"])(["item",{active:t.abbr===e.abbr}]),key:t,onClick:function(n){return e.showModal(t)}},[Object(r["g"])("div",null,[Object(r["h"])(Object(r["B"])(t.name.common)+" ",1),T])],10,N)})),128))])])])],64)),e.abbr?(Object(r["s"])(),Object(r["d"])(u,{key:1,country:e.activeCountry},null,8,["country"])):Object(r["e"])("",!0)])}function F(e,t,n,i,o,c){return Object(r["G"])((Object(r["s"])(),Object(r["f"])("input",{class:"search",type:"text",placeholder:"Write term for any column and press enter","onUpdate:modelValue":t[0]||(t[0]=function(t){return e.name=t}),onKeyup:t[1]||(t[1]=Object(r["H"])((function(){return e.emit&&e.emit.apply(e,arguments)}),["enter"]))},null,544)),[[r["D"],e.name]])}var G=Object(r["j"])({data:function(){return{name:""}},methods:{resetSearchTerm:function(){this.name=""},emit:function(){this.$emit("searchTerm",this.name)}}});n("fbe5");const H=j()(G,[["render",F]]);var I=H,J=n("bc3a"),D=n.n(J);function K(e,t,n,r,i,o,c){try{var s=e[o](c),u=s.value}catch(a){return void n(a)}s.done?t(u):Promise.resolve(u).then(r,i)}function U(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function c(e){K(o,r,i,c,s,"next",e)}function s(e){K(o,r,i,c,s,"throw",e)}c(void 0)}))}}var V=Object(r["j"])({data:function(){return{countries:[],regions:[],subregions:[],filteredRegions:[],filteredSubregions:[],filteredCountries:[],loading:!0,activeRegion:"",activeSubregion:"",activeCountry:null}},setup:function(){var e,t,n=null===(e=Object(c["c"])())||void 0===e||null===(t=e.params)||void 0===t?void 0:t.abbr;return{abbr:n}},created:function(){var e=this;return U(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,D.a.get("http://https://nrppzw-projekt-3.herokuapp.com//regions");case 2:return e.regions=t.sent.data,e.filteredRegions=e.regions,t.next=6,D.a.get("http://https://nrppzw-projekt-3.herokuapp.com//subregions");case 6:return e.subregions=t.sent.data,t.next=9,D.a.get("http://https://nrppzw-projekt-3.herokuapp.com//countries");case 9:e.countries=t.sent.data,e.filteredSubregions=e.subregions,e.countries.sort(e.byCommonName),e.filteredCountries=e.countries,e.$store.commit("setCountries",e.countries),e.loading=!1,e.abbr&&e.showModal(null!==(n=e.countries.find((function(t){return t.abbr===e.abbr})))&&void 0!==n?n:{abbr:e.abbr});case 16:case"end":return t.stop()}}),t)})))()},components:{Modal:p,Search:I},watch:{$route:function(e){var t;null!==(t=e.params)&&void 0!==t&&t.abbr?this.showModal(this.countries.find((function(t){return t.abbr===e.params.abbr}))||{abbr:e.params.abbr}):this.abbr=""}},methods:{updatedList:function(e,t){switch(this.$refs.search.resetSearchTerm(),e){case"regions":this.activeSubregion="",this.activeRegion===t?(this.activeRegion="",this.filteredSubregions=this.subregions,this.filteredCountries=this.$store.getters.countries):(this.activeRegion=t,this.filteredRegions=this.regions,this.filter("subregions"));break;case"subregions":this.activeSubregion.name===t.name?this.activeSubregion="":this.activeSubregion=t,this.filter("countries")}},filter:function(e){var t=this;switch(e){case"subregions":this.filteredSubregions=this.subregions.filter((function(e){return e.sup===t.activeRegion}));case"countries":this.filteredCountries=this.filterCountries().sort(this.byCommonName);break}},showModal:function(e){var t=this;return U(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t.activeCountry=e,t.abbr=(null===e||void 0===e?void 0:e.abbr)||t.abbr,n.next=4,t.$router.push(e.abbr||t.abbr);case 4:case"end":return n.stop()}}),n)})))()},byCommonName:function(e,t){return e.name.common<t.name.common?-1:e.name.common>t.name.common?1:0},filterCountries:function(){var e=this;return this.$store.getters.countries.filter((function(t){return t.subregion===e.activeSubregion.name||""===e.activeSubregion&&t.region===e.activeRegion}))},search:function(e){e=e.toLowerCase(),this.activeRegion="",this.activeSubregion="",""===e?(this.filteredRegions=this.regions,this.filteredSubregions=this.subregions,this.filteredCountries=this.$store.getters.countries):(this.filteredRegions=this.regions.filter((function(t){return t.toLowerCase().includes(e)})),this.filteredSubregions=this.subregions.filter((function(t){return t.name.toLowerCase().includes(e)})),this.filteredCountries=this.$store.getters.countries.filter((function(t){return t.name.common.toLowerCase().includes(e)||t.name.official.toLowerCase().includes(e)})))}}});n("fbee");const W=j()(V,[["render",A]]);var q=W,E=n("83ab"),Q=n.n(E),X=Object(r["g"])("img",{src:Q.a,class:"logo"},null,-1),Y=Object(r["g"])("h3",{style:{"margin-left":"0.5rem"}},"Geodata",-1),Z={class:"slot"};function ee(e,t){var n=Object(r["z"])("router-link"),i=Object(r["z"])("router-view");return Object(r["s"])(),Object(r["f"])("div",null,[Object(r["i"])(n,{to:"/",class:"navbar"},{default:Object(r["F"])((function(){return[X,Y]})),_:1}),Object(r["g"])("div",Z,[Object(r["i"])(i)])])}n("d26a");const te={},ne=j()(te,[["render",ee]]);var re=ne;function ie(e,t){return Object(r["s"])(),Object(r["f"])("p",null,"Page not found!")}const oe={},ce=j()(oe,[["render",ie]]);var se=ce,ue=[{path:"",name:"Home",component:q,children:[{path:"/:abbr?",name:"Modal",component:p}]},{path:"/:catchAll(.*)",name:"NotFound",component:se}],ae=Object(c["a"])({history:Object(c["b"])(),routes:ue});Object(r["c"])(re).use(ae).use(o).mount("#app")},"83ab":function(e,t,n){e.exports=n.p+"img/globe.2eaca311.svg"},"8aaf":function(e,t,n){},bd6a:function(e,t,n){},d26a:function(e,t,n){"use strict";n("2a48")},f44f:function(e,t,n){},fbe5:function(e,t,n){"use strict";n("8aaf")},fbee:function(e,t,n){"use strict";n("bd6a")}});
//# sourceMappingURL=app.2898e300.js.map